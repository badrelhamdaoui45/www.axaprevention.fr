"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{719:function(e,t,r){r.d(t,{j:function(){return v}});var n=r(5861),a=r(7757),i=r.n(a),c=r(7294),o=r(3265),s=r(6116),u=r(9151),l=r(3021),f=r(8951),d=r(5155),p=r(2011),g=r(5893),v=function(e){var t,r,n,a,i,c,o,l,f,d,p,g=new Date(e.data.date_publication_fr||e.first_publication_date.split("T")[0]),v=(0,s.Z)(g,"dd MMM uuuu",{locale:u.Z});return{id:e.id,title:e.data.title_fr,category:{name:null===(t=e.data.category_fr)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.name_fr,icon:{main:{alt:null===(n=e.data.category_fr)||void 0===n||null===(a=n.data)||void 0===a||null===(i=a.icon_fr)||void 0===i?void 0:i.alt,url:null===(c=e.data.category_fr)||void 0===c||null===(o=c.data)||void 0===o||null===(l=o.icon_fr)||void 0===l?void 0:l.url}},icon_color:null===(f=e.data.category_fr)||void 0===f||null===(d=f.data)||void 0===d?void 0:d.icon_color_fr},og_image:null===(p=e.data.banner_fr)||void 0===p?void 0:p.small,description:e.data.summary_fr,url:"/fr/article/".concat(e.data.slug_fr),date_publication:v}};t.Z=function(e){var t=e.name,r=e.icon,a=e.icon_color,s=e.subcategories,u=void 0===s?[]:s,y=e.articles,h=e.client,b=e.id,m=(0,c.useContext)(f.Z),j=m.activeSubcategory,_=m.setResults,O=m.setPagination,x=m.setIsLoading,w=function(){var e=(0,n.Z)(i().mark((function e(t,r){var n,a,c,s,f,d,p,g=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.length>2&&void 0!==g[2]?g[2]:1,c=u.find((function(e){var t;return(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.slug)===r})),s=void 0!==j?null===c||void 0===c||null===(n=c.item)||void 0===n?void 0:n.id:null,f=[o.gA.at("my.article.category_fr",t)],s&&f.push(o.gA.at("my.article.subcategory_fr",s)),x(!0),e.next=8,h.getByType(l.N_,{predicates:f,page:a,pageSize:12,orderings:{field:"my.article.date_publication_fr",direction:"desc"},fetchLinks:["category.name_fr","category.icon_fr","category.icon_color_fr","subcategory.name_fr","campaign.name_fr"]});case 8:d=e.sent,x(!1),_({type:"reset",payload:d.results.map(v)}),p={count:d.results_size,page:d.page,total:d.total_pages,pageSize:d.results_per_page},O(p);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){_({type:"reset",payload:y.results}),O(y.pagination)}),[]),(0,c.useEffect)((function(){""!==j&&w(b,j)}),[j]),(0,g.jsxs)("section",{className:"category-wrapper",children:[r&&a&&(0,g.jsxs)("div",{className:"category-banner",children:[(0,g.jsx)("span",{className:"submenuIconLink",style:{backgroundColor:a},children:(0,g.jsx)("img",{width:"25",height:"25",src:r.main&&r.main.url,alt:r.main&&r.main.alt})}),(0,g.jsx)("h1",{className:"category-banner-title",children:t})]}),(0,g.jsx)("hr",{className:"category-hr"}),(0,g.jsx)(d.Z,{tags:u}),(0,g.jsx)(p.Z,{fetchNews:w,activeSubcategory:j,categoryID:b})]})}},2011:function(e,t,r){var n=r(4942),a=r(7294),i=r(8951),c=r(513),o=r(4119),s=r(5893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){var t=e.fetchNews,r=e.activeSubcategory,l=void 0===r?null:r,f=e.categoryID,d=(0,a.useContext)(i.Z),p=d.results,g=d.isLoading;return(0,s.jsxs)("section",{className:"newsList-wrapper",children:[(0,s.jsx)("div",{className:"cards-wrapper",children:g?(0,s.jsx)("div",{className:"newslist-loading-wrapper"}):p.map((function(t,r){return(0,s.jsx)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:e.id,category:t.category},t),"article-card-".concat(r))}))}),(0,s.jsx)(o.Z,{fetchOtherPage:function(e){return t(f,l,e)}})]})}},5155:function(e,t,r){var n=r(7294),a=r(8951),i=r(5893);t.Z=function(e){var t=e.tags;if(0===t.length)return null;var r=(0,n.useContext)(a.Z),c=r.activeSubcategory,o=r.setActiveSubcategory;return(0,i.jsx)("div",{className:"subcategories-wrapper",children:t.map((function(e){var t=e.item,r=t.name,n=t.slug;return(0,i.jsx)("button",{className:"subcategory-tag ".concat(n===c?"active":""),onClick:function(){return o(n)},children:r},"subcategory-tag-".concat(n))}))})}},4119:function(e,t,r){var n=r(7294),a=r(8951),i=r(5893);t.Z=function(e){var t=e.fetchOtherPage,r=e.wrapperClassname,c=void 0===r?"":r,o=(0,n.useContext)(a.Z).pagination,s=(0,n.useState)(1),u=s[0],l=s[1],f=(0,n.useState)(0),d=f[0],p=f[1];return n.useEffect((function(){p(o.total),l(1)}),[o.total]),(0,i.jsx)("div",{className:"search-pagination ".concat(c),children:(0,i.jsxs)("ul",{className:"search-pagination-list",children:[u-1>0&&d>1&&(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"search-pagination-button",onClick:function(){t(u-1),l(u-1)},children:u-1})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"search-pagination-button active",onClick:function(){t(u),l(u)},children:u})}),d>=u+1&&(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"search-pagination-button",onClick:function(){t(u+1),l(u+1)},children:u+1})}),u+1<d-1&&(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{children:"..."}),(0,i.jsx)("button",{className:"search-pagination-button",onClick:function(){t(d),l(d)},children:d})]})]})})}},8951:function(e,t,r){r.d(t,{Z:function(){return i}});var n={activeSubcategory:"",setActiveSubcategory:null,results:[],setResults:null,pagination:{page:1,pageSize:12,total:1,count:0,totalCount:0,current:0,urlBase:"",pages:[]},setPagination:null,isLoading:!1,setIsLoading:null},a=(0,r(7294).createContext)(n);a.displayName="CATEGORY_CONTEXT";var i=a},9366:function(e,t,r){var n=r(7294),a=r(8951),i=r(5893);function c(e,t){switch(t.type){case"reset":return t.payload;case"addPage":return e.concat(t.payload);default:throw new Error}}t.Z=function(e){var t=(0,n.useReducer)(c,[]),r=t[0],o=t[1],s=(0,n.useState)({}),u=s[0],l=s[1],f=(0,n.useState)(""),d=f[0],p=f[1],g=(0,n.useState)(!1),v={activeSubcategory:d,setActiveSubcategory:p,results:r,setResults:o,pagination:u,setPagination:l,isLoading:g[0],setIsLoading:g[1]};return(0,i.jsx)(a.Z.Provider,{value:v,children:e.children})}},8439:function(e,t,r){r.r(t);var n=r(4942),a=r(5861),i=r(5671),c=r(9521),o=r(9340),s=r(6215),u=r(1120),l=r(7757),f=r.n(l),d=r(5893);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var y=r(7294).Component,h=r(7294),b=function(e){(0,o.Z)(n,e);var t=v(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this)).components=r(3945)||r(7319),e.React=h,e}return(0,c.Z)(n,[{key:"createRef",value:function(){return h.createRef()}},{key:"renderError",value:function(e){var t=this.components,r=t.Error404,n=t.Error500;return e?"NOT_FOUND"===e.code?(0,d.jsx)(r,{}):(0,d.jsx)(n,{}):null}},{key:"render",value:function(){var e=(this.props||{}).error;return e?this.renderError(e):this.renderPage(this.props)}}],[{key:"getInitialProps",value:function(){var e=(0,a.Z)(f().mark((function e(t){var r,n,a,i,c,o,s,u,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.res.corePage,n=r.content,a=void 0===n?{}:n,i=r.isDev,c=r.isMobile,o=void 0!==c&&c,s=r.isIE,u=void 0!==s&&s,l=g(g({},a),{},{isDev:i,isMobile:o,isIE:u}),e.abrupt("return",l);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(y);t.default=b},3021:function(e){e.exports={N_:"article"}}}]);